<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./images/favicon-32x32.png"
		/>
		<link rel="stylesheet" href="style.css" />
		<title>Frontend Mentor | Intro component with sign up form</title>
	</head>
	<body>
		<main class="main">
			<div class="container">
				<section class="section container-box-text">
					<div class="box-text">
						<h1 class="title">Learn to code by watching others</h1>
						<p class="text">
							See how experienced developers solve problems in real-time.
							Watching scripted tutorials is great, but understanding how
							developers think is invaluable.
						</p>
					</div>
				</section>
				<section class="section container-box-form">
					<a href="#" class="try"
						><span> Try it free 7 days</span> then $20/mo. thereafter</a
					>
					<div class="box-form">
						<form action="#" class="form">
							<div class="container-input" title="First name cannot be empty">
								<input
									type="text"
									placeholder="First name"
									class="input input-js"
									required
								/>
								<img
									src="images/icon-error.svg"
									alt="error"
									class="icon-error"
								/>
							</div>
							<div class="container-input" title="Last name cannot be empty">
								<input
									type="text"
									placeholder="Last name"
									class="input input-js"
									required
								/>
								<img
									src="images/icon-error.svg"
									alt="error"
									class="icon-error"
								/>
							</div>
							<div
								class="container-input"
								title="Looks like this is not an email"
							>
								<input
									type="email"
									placeholder="Email Address"
									class="input input-js"
									required
								/>
								<img
									src="images/icon-error.svg"
									alt="error"
									class="icon-error"
								/>
							</div>
							<div class="container-input" title="Password cannot be empty">
								<input
									type="password"
									placeholder="Password"
									class="input input-js"
									required
								/>
								<img
									src="images/icon-error.svg"
									alt="error"
									class="icon-error"
								/>
							</div>
							<input
								type="submit"
								value="Claim your free trial"
								class="input submit"
							/>
						</form>
						<p class="terms">
							By clicking the button you are agreeing to out
							<a href="#">Terms and Services</a>
						</p>
					</div>
				</section>
			</div>
		</main>
		<script>
			const inputs = [...document.querySelectorAll('.input-js')];
			const submit = document.querySelector('.submit');
			const regexEmail =
				/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

			const toggleAlert = (bool, element, classToggle) =>
				bool ? element.add(classToggle) : element.remove(classToggle);

			const validateEmail = email => !regexEmail.test(email.value);

			const validateTextExist = text => !text.value.trim();

			const isEmail = element => element.type === 'email';

			const validateType = typeEmail =>
				!typeEmail ? validateTextExist : validateEmail;

			const validateForm = e => {
				e.preventDefault();
				inputs.forEach(input => {
					const {
						parentElement: { classList: element },
					} = input;
					const validate = validateType(isEmail(input));
					toggleAlert(validate(input), element, 'error');
				});
			};

			submit.addEventListener('click', validateForm);
		</script>
	</body>
</html>
